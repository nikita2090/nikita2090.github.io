(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,function(e,a,t){e.exports=t(42)},,,,,,,,function(e,a,t){},function(e,a,t){},,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(11),c=t.n(r),s=(t(19),t(8)),o=t(9),u=t.n(o),i=t(12),h=t(3),m=t(4),d=t(6),g=t(5),p=t(7),f=(t(21),t(1)),v=t.n(f),E=(t(22),t(2)),S=t.n(E),N=(t(25),function(e){var a=e.arr,t=e.handleSelectChange,n=e.name,r=e.selected,c=e.className,s=v()(c,"select");return l.a.createElement("select",{className:s,onChange:t,name:n,value:r},a.map(function(e){var a=e.value,t=e.label;return l.a.createElement("option",{key:a+t,value:a},t)}))});N.defaultProps={arr:S.a.array,name:S.a.string,handleSelectChange:S.a.func,selected:S.a.string,style:{}};var C=N,b=[{label:10,value:10},{label:20,value:20},{label:50,value:50}],P=function(e){var a=e.selectedPageSize,t=e.handleSelectChange,n=e.className,r=v()("pageSizesSelectWrapper",n);return l.a.createElement("div",{className:r},l.a.createElement("div",null,"News per page:"),l.a.createElement(C,{name:"pageSize",className:"pageSizes",arr:b,selected:a,handleSelectChange:t}))};P.defaultProps={selectedPageSize:10,handleSelectChange:function(){},className:""};var y=P,w=(t(26),function(e){var a=e.header,t=e.className,n=v()("appTitlesWrap",t);return l.a.createElement("div",{className:n},l.a.createElement("h1",{className:"appTitle"},a),l.a.createElement("h2",{className:"appSubtitle"},"Powered by ",l.a.createElement("a",{href:"https://newsapi.org"},"News API")))});w.defaultProps={header:"Simple header",className:""};var k=Object(n.memo)(w),I=function(e){var a=e.title,t=e.selectedPageSize,n=e.handleSelectChange;return l.a.createElement("header",{className:"row"},l.a.createElement(k,{header:a,className:"col-6 col-md-12"}),l.a.createElement(y,{className:"col-6 col-md-12",selectedPageSize:t,handleSelectChange:n}))};I.defaultProps={title:"Simple header",selectedPageSize:10,handleSelectChange:function(){}};var O=Object(n.memo)(I),T=(t(27),function(e){var a=e.children,t=e.className,n=v()(t,"row");return l.a.createElement("div",{className:n},a)});T.defaultProps={children:"",className:""};var j=T,z=(t(28),t(29),function(e){var a=e.pageNumber,t=e.page,n=e.handlePageChange,r=v()("paginationItem",{itemSelected:t===a});return l.a.createElement("button",{name:a,className:r,onClick:n},a)});z.defaultProps={pageNumber:1,page:1,handlePageChange:function(){}};var B=z,R=function(e){var a=e.page,t=e.lastPage,n=e.handlePageChange,r=e.className,c=v()(r,"pagination"),s=Array.from(new Array(t).keys());return l.a.createElement("div",{className:c},s.map(function(e){return l.a.createElement(B,{pageNumber:e+1,page:a,handlePageChange:n,key:e})}))};R.defaultProps={page:1,lastPage:1,handlePageChange:function(){},className:""};var A=R,U=function(e){var a=e.handlePageChange,t=e.page,n=e.lastPage,r=e.totalResults,c=e.className,s=v()("paginationForm","row",c);return l.a.createElement(j,null,l.a.createElement("form",{className:s},l.a.createElement("button",{name:"prev",className:"arrowBtn col-1",onClick:a,disabled:0===r||1===t},"<"),l.a.createElement(A,{className:"col-22 col-md-24",handlePageChange:a,page:t,lastPage:n}),l.a.createElement("button",{name:"next",className:"arrowBtn col-1",onClick:a,disabled:0===r||t===n},">")))};U.defaultProps={className:"",handlePageChange:function(){},page:1,lastPage:1};var D=Object(n.memo)(U),L=(t(30),t(31),[{label:"Australia",value:"au"},{label:"Belgia",value:"be"},{label:"Bolgaria",value:"bg"},{label:"Canada",value:"ca"},{label:"Egypt",value:"eg"},{label:"Great Britain",value:"gb"},{label:"Germany",value:"de"},{label:"Greece",value:"gr"},{label:"Italy",value:"it"},{label:"Russia",value:"ru"},{label:"Turkey",value:"tr"},{label:"USA",value:"us"}]),x=[{label:"business",value:"business"},{label:"entertainment",value:"entertainment"},{label:"general",value:"general"},{label:"health",value:"health"},{label:"science",value:"science"},{label:"sports",value:"sports"},{label:"technology",value:"technology"}],F=function(e){var a=e.selectedCountry,t=e.selectedCategory,n=e.handleSelectChange;return l.a.createElement("fieldset",{className:"selectForm col-12 col-lg-4 col-xl-3"},l.a.createElement("legend",{className:"legend"},"Search in HOT news:"),l.a.createElement(C,{name:"country",arr:L,selected:a,handleSelectChange:n}),l.a.createElement(C,{name:"category",arr:x,selected:t,handleSelectChange:n}))};F.defaultProps={selectedCountry:"USA",selectedCategory:"general",handleSelectChange:function(){}};var _=Object(n.memo)(F),Q=(t(32),function(e){var a=e.value,t=e.handleInputChange,n=e.handleSearchBtnClick;return l.a.createElement("fieldset",{className:"col-12 col-lg-8 col-xl-9"},l.a.createElement("legend",{className:"legend"},"Search in ALL news:"),l.a.createElement("div",{className:"searchForm"},l.a.createElement("input",{className:"searchInput",placeholder:"Search...",value:a,onChange:t}),l.a.createElement("button",{className:"searchButton",onClick:n},"OK")))});Q.defaultProps={value:"",handleInputChange:function(){},handleBtnClick:function(){}};var W=Object(n.memo)(Q),J=function(e){var a=e.selectedCountry,t=e.selectedCategory,n=e.handleSelectChange,r=e.value,c=e.handleInputChange,s=e.handleSearchBtnClick;return l.a.createElement("form",{className:"row"},l.a.createElement(_,{selectedCountry:a,selectedCategory:t,handleSelectChange:n}),l.a.createElement(W,{value:r,handleInputChange:c,handleSearchBtnClick:s}))};J.defaultProps={selectedCountry:"USA",selectedCategory:"general",handleSelectChange:function(){},value:"",handleInputChange:function(){},handleBtnClick:function(){}};var Y=Object(n.memo)(J),G=(t(33),function(){return l.a.createElement("div",{className:"preloader"},l.a.createElement("img",{src:"./placeholder.svg",alt:"loading..."}))}),M=(t(34),t(35),function(e){var a=e.children,t=e.url;return l.a.createElement("a",{className:"readButton",href:t,target:"_blanc"},a)});M.defaultProps={children:"Read",url:""};var V=M,H=(t(36),function(e){var a=e.urlToImage,t=e.className,n=v()(t,"imgWrapper");return l.a.createElement("div",{className:n},l.a.createElement("img",{src:a||"./News.png",width:"100%",alt:""}))});H.defaultProps={urlToImage:"",className:""};var X=H,q=(t(37),function(e){var a=new Date(e),t=a.getFullYear(),n=a.getMonth()+1,l=a.getDate();return n<10&&(n="0"+n),l<10&&(l="0"+l),"".concat(l,".").concat(n,".").concat(t)}),K=function(e){var a=e.date;return l.a.createElement("span",{className:"date"},q(a))};K.defaultProps={date:""};var $=K,Z=(t(38),function(e){var a=e.author,t=e.source,n=a;return n||(n=t),n.length>20&&(n=n.slice(0,20)+"..."),l.a.createElement("span",{className:"author"},n)});Z.defaultProps={author:"",source:""};var ee=Z,ae=function(e){var a=e.article,t=a.title,n=a.description,r=a.url,c=a.urlToImage,s=a.publishedAt,o=a.author,u=a.source,i=e.className,h=v()(i,"article");return l.a.createElement("article",{className:h},l.a.createElement(j,null,l.a.createElement("header",{className:"articleTitle col-12"},t)),l.a.createElement(j,{className:"articleContent"},l.a.createElement(X,{className:"col-12 col-md-4 col-lg-3",urlToImage:c}),l.a.createElement("div",{className:"contentWrapper col-12 col-md-8 col-lg-9"},l.a.createElement("div",{className:"description"},n),l.a.createElement("div",{className:"lowerContent"},l.a.createElement(V,{url:r},"read article"),l.a.createElement("div",{className:"info"},l.a.createElement($,{date:s}),l.a.createElement("span",null,"|"),l.a.createElement(ee,{author:o,source:u.name}))))))};ae.defaultProps={title:"",description:"",url:"",urlToImage:"",publishedAt:"",author:"",source:"",className:""};var te=ae,ne=(t(39),function(e){var a=e.news,t=e.className;return a.length?l.a.createElement("main",{className:"row"},a.map(function(e){return l.a.createElement(te,{article:e,className:t,key:e.title})})):l.a.createElement("div",{className:"notFound"},"Nothing found")});ne.defaultProps={news:[],className:""};var le=ne,re=(t(40),function(e){var a=e.className,t=v()("footer",a);return l.a.createElement("footer",{className:"row"},l.a.createElement("i",{className:t},"\xa9 nikita2090, 2019"))});re.defaultProps={className:""};var ce=re,se=(t(41),function(e){function a(){var e,t;Object(h.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(d.a)(this,(e=Object(g.a)(a)).call.apply(e,[this].concat(l)))).state={hasError:!1},t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.state.hasError,a=this.props.children;return e?l.a.createElement(l.a.Fragment,null,l.a.createElement(k,{header:"News"}),l.a.createElement("div",{className:"errBoundary"},l.a.createElement("h2",null,"Something went wrong"),l.a.createElement("p",null,"Please refresh the page"))):a}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),a}(n.Component)),oe=function(e,a){return e>100&&(e=100),Math.ceil(e/a)},ue="https://newsapi.org/v2",ie="/everything?",he="/top-headlines?",me="47387a80918944f6baaa6e32fc95233d",de=function(e){function a(e){var t,n,l,r;if(Object(h.a)(this,a),(t=Object(d.a)(this,Object(g.a)(a).call(this,e)))._calculateURL=function(){var e=new URL("".concat(ue).concat(ie)),a=t.state,n=a.searchQuery,l=a.pageSize,r=a.page;if(!n){e=new URL("".concat(ue).concat(he));var c=t.state,s=c.country,o=c.category;e.searchParams.set("country",s),e.searchParams.set("category",o)}return e.searchParams.set("q",n),e.searchParams.set("pageSize",l),e.searchParams.set("page",r),e},t.fetchData=function(){t.setState({isLoaded:!1},Object(i.a)(u.a.mark(function e(){var a,n,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t._calculateURL(),e.next=4,fetch(a,{headers:{Authorization:me}});case 4:return(n=e.sent).ok||alert("HTTP-Error: "+n.status),e.next=8,n.json();case 8:"ok"===(l=e.sent).status?t.setState({totalResults:l.totalResults,news:l.articles,isLoaded:!0}):alert(l.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})))},t.handleInputChange=function(e){var a=e.target.value;t.setState({searchQuery:a,page:1})},t.handleSelectChange=function(e){var a,n=e.target,l=n.name,r=n.value,c="";"pageSize"===l&&(c=t.state.searchQuery,r=+r),t._saveUserOptions(l,r),t.setState((a={},Object(s.a)(a,l,r),Object(s.a)(a,"page",1),Object(s.a)(a,"searchQuery",c),a),t.fetchData)},t.handleSearchBtnClick=function(e){e.preventDefault(),""!==t.state.searchQuery&&t.setState({page:1},t.fetchData)},t.handlePageChange=function(e){e.preventDefault();var a=e.target.name,n=t.state.page;if(isNaN(a))switch(a){case"prev":t.updatePage(n-1);break;case"next":t.updatePage(n+1);break;default:return null}else{if(n===+a)return;t.updatePage(+a)}},t.updatePage=function(e){t.setState({page:e},t.fetchData)},t.onTouchStart=function(e){t.touchStart=e.changedTouches[0].clientX},t.onTouchEnd=function(e){var a=e.changedTouches[0].clientX-t.touchStart,n=t.state,l=n.page,r=n.totalResults,c=n.pageSize,s=oe(r,c);a<-t.SENSITIVITY&&s!==l?t.updatePage(l+1):a>t.SENSITIVITY&&1!==l&&t.updatePage(l-1)},localStorage.options){var c=t._loadUserOptions();n=c.country,l=c.category,r=c.pageSize}return t.state={searchQuery:"",totalResults:0,news:[],country:n||"us",category:l||"general",pageSize:r||10,page:1,isLoaded:!1},t.touchStart=null,t.SENSITIVITY=55,t}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"_loadUserOptions",value:function(){return JSON.parse(localStorage.getItem("options"))}},{key:"_saveUserOptions",value:function(e,a){var t={};localStorage.options&&(t=this._loadUserOptions()),t[e]=a,localStorage.setItem("options",JSON.stringify(t))}},{key:"render",value:function(){var e,a=this.state,t=a.searchQuery,n=a.totalResults,r=a.news,c=a.country,s=a.category,o=a.pageSize,u=a.page;return e=a.isLoaded?l.a.createElement(l.a.Fragment,null,l.a.createElement(le,{className:"col-12",news:r}),l.a.createElement(D,{className:"col-12",handleSelectChange:this.handleSelectChange,selectedPageSize:o,handlePageChange:this.handlePageChange,page:u,lastPage:oe(n,o),totalResults:n}),l.a.createElement(ce,{className:"col-12"})):l.a.createElement(G,null),l.a.createElement(se,null,l.a.createElement("div",{className:"container app",onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},l.a.createElement(O,{title:"News",selectedPageSize:o,handleSelectChange:this.handleSelectChange}),l.a.createElement(D,{className:"col-12",handleSelectChange:this.handleSelectChange,selectedPageSize:o,handlePageChange:this.handlePageChange,page:u,lastPage:oe(n,o),totalResults:n}),l.a.createElement(Y,{selectedCountry:c,selectedCategory:s,handleSelectChange:this.handleSelectChange,value:t,handleInputChange:this.handleInputChange,handleSearchBtnClick:this.handleSearchBtnClick}),e))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[13,1,2]]]);
//# sourceMappingURL=main.3cdec530.chunk.js.map